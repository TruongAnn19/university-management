<div class="container">
  <h2>ğŸ“ Báº£ng káº¿t quáº£ há»c táº­p</h2>

  <div *ngIf="isLoading" class="loading">Äang táº£i dá»¯ liá»‡u...</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <div *ngIf="transcript" class="content">

    <div class="info-card" [ngClass]="{
      'graduated': transcript.status === 'ÄÃƒ Tá»T NGHIá»†P',
      'expelled': transcript.status === 'BUá»˜C THÃ”I Há»ŒC'
    }">
      <h3>Sinh viÃªn: {{ transcript.studentName }}</h3>
      <p>Khoa: <strong>{{ transcript.facultyName }}</strong></p>
      <p>Tráº¡ng thÃ¡i: <strong>{{ transcript.status }}</strong></p>
      <p class="message">ğŸ”” {{ transcript.message }}</p>
    </div>

    @if (transcript && transcript.scores && transcript.scores.length > 0) {
    <table class="score-table">
      <thead>
        <tr>
          <th class="center">STT</th>
          <th>MÃ´n há»c</th>
          <th class="center">Sá»‘ TC</th>
          <th class="center">QuÃ¡ trÃ¬nh</th>
          <th class="center">Äiá»ƒm thi</th>
          <th class="center">Tá»•ng káº¿t</th>
          <th class="center">Káº¿t quáº£</th>
        </tr>
      </thead>
      <tbody>
        @for (s of transcript.scores; track s.subjectName; let i = $index) {
        <tr>
          <td class="center">{{ i + 1 }}</td>
          <td class="subject-name">{{ s.subjectName }}</td>
          <td class="center">{{ s.credits }}</td>
          <td class="center">{{ s.processScore }}</td>
          <td class="center">{{ s.finalScore }}</td>
          <td class="center bold">{{ s.totalScore | number:'1.1-1' }}</td>
          <td class="center">
            @if (s.totalScore >= 4.0) { <span class="pass">Äáº¡t</span> }
            @else { <span class="fail">Há»c láº¡i</span> }
          </td>
        </tr>
        }
      </tbody>
    </table>
    } @else {
    <div class="no-data">
      <div class="empty-state-icon">ğŸ“</div>
      <p>Hiá»‡n táº¡i báº¡n chÆ°a cÃ³ Ä‘iá»ƒm mÃ´n há»c nÃ o.</p>
    </div>
    }
  </div>
</div>